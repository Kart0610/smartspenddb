<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expenses — SmartSpend</title>

  <!-- bootstrap (optional) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <style>
    :root{
      --bg:#08161a;
      --card:#0d2a30;
      --accent:#00d1d9;
      --muted:#9fb0bf;
      --surface: rgba(255,255,255,0.03);
      --danger:#ff6b6b;
      --text:#eaf6f7;
    }

    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(circle at 10% 10%, #052026 0%, var(--bg) 40%);
      color:var(--text);
      min-height:100vh;
      padding:36px;
    }

    .page-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      margin-bottom:24px;
    }

    h1{
      margin:0;
      font-size:2.2rem;
      color:var(--accent);
      text-shadow:0 6px 18px rgba(0,208,217,0.12);
      font-weight:700;
    }

    .card-panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:22px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.45);
      border:1px solid rgba(255,255,255,0.04);
      max-width:1000px;
    }

    .expenses-list {
      margin:0;
      padding:0;
      list-style:none;
    }

    .expense-item{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 14px;
      border-radius:8px;
      background:transparent;
      transition: background .15s ease, transform .12s ease;
    }

    .expense-item + .expense-item {
      margin-top:8px;
    }

    .expense-item:hover{
      background: rgba(0,209,217,0.06);
      transform: translateY(-2px);
    }

    .expense-title{
      display:flex;
      gap:12px;
      align-items:center;
    }

    .pill{
      font-size:0.78rem;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,0.03);
      color:var(--muted);
    }

    .amount{
      font-weight:700;
      color:var(--text);
      min-width:110px;
      text-align:right;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .total-row{
      display:flex;
      justify-content:space-between;
      margin-top:18px;
      padding-top:14px;
      border-top:1px dashed rgba(255,255,255,0.04);
      align-items:center;
    }

    .total-label{
      font-size:1.05rem;
      color:var(--muted);
      font-weight:600;
    }

    .total-value{
      font-size:1.3rem;
      color:var(--accent);
      font-weight:800;
      background: linear-gradient(90deg, rgba(0,209,217,0.08), rgba(0,209,217,0.04));
      padding:8px 14px;
      border-radius:10px;
      box-shadow: 0 6px 16px rgba(0,209,217,0.06);
    }

    .empty {
      padding:30px;
      text-align:center;
      color:var(--muted);
      background:var(--surface);
      border-radius:10px;
    }

    @media (max-width:720px){
      h1{font-size:1.5rem;}
      .card-panel{padding:16px;}
      .amount{min-width:80px}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="page-head">
      <h1>SmartSpend — Your expenses</h1>
      <div>
        <!-- optional actions -->
        <a th:href="@{/expenses/add}" class="btn btn-sm" style="background:var(--accent);color:#022; font-weight:700;">
          + Add Expense
        </a>
      </div>
    </div>

    <div class="card-panel">
      <!-- no expenses -->
      <div th:if="${#lists.isEmpty(expenses)}" class="empty">
        <strong>No expenses yet.</strong>
        <div style="margin-top:8px;color:var(--muted)">Click “Add Expense” to create your first entry.</div>
      </div>

      <!-- list -->
      <div th:unless="${#lists.isEmpty(expenses)}">
        <ul class="expenses-list">
          <li th:each="e : ${expenses}" class="expense-item">
            <div class="expense-title">
              <div>
                <div style="font-weight:700; color:var(--text);" th:text="${e.title}">Sample title</div>
                <div style="font-size:0.85rem; color:var(--muted)" th:text="${e.date}">2025-10-27</div>
              </div>
              <div class="pill" th:text="${e.category}">Category</div>
            </div>

            <div style="display:flex; align-items:center; gap:12px;">
              <div class="amount" th:text="${#numbers.formatDecimal(e.amount, 1, 2)}">0.00</div>

              <!-- delete link (keeps your existing route) -->
              <a th:href="@{'/expenses/delete/' + ${e.id}}"
                 style="background:var(--danger); color:white; padding:6px 10px; border-radius:8px; text-decoration:none; font-weight:600;">
                 Delete
              </a>
            </div>
          </li>
        </ul>

        <div class="total-row">
          <div class="total-label">Total:</div>
          <div class="total-value" th:text="${total}">0.00</div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
